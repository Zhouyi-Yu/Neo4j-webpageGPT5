{
    "AWSTemplateFormatVersion": "2010-09-09",
    "Description": "AWS App Runner Service for Neo4j RAG App",
    "Resources": {
        "AppRunnerService": {
            "Type": "AWS::AppRunner::Service",
            "Properties": {
                "ServiceName": "neo4j-rag-app",
                "SourceConfiguration": {
                    "AuthenticationConfiguration": {
                        "ConnectionArn": "arn:aws:apprunner:REGION:ACCOUNT:connection/NAME"
                    },
                    "ImageRepository": {
                        "ImageIdentifier": "public.ecr.aws/user/neo4j-rag-app:latest",
                        "ImageRepositoryType": "ECR_PUBLIC",
                        "ImageConfiguration": {
                            "Port": "8000",
                            "RuntimeEnvironmentVariables": [
                                {
                                    "Name": "NEO4J_URI",
                                    "Value": "neo4j+s://..."
                                },
                                {
                                    "Name": "OPENAI_API_KEY",
                                    "Value": "sk-..."
                                }
                            ]
                        }
                    }
                }
            }
        }
    }
}