$schema: https: //schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#
contentVersion: 1.0.0.0
parameters:
  location:
    type: string
    defaultValue: canadacentral
resources:
  - type: Microsoft.App/containerApps
    apiVersion: 2022-03-01
    name: neo4j-rag-app
    location: "[parameters('location')]"
    properties:
      managedEnvironmentId: "/subscriptions/.../managedEnvironments/my-env"
      configuration:
        ingress:
          external: true
          targetPort: 8000
      template:
        containers:
          - name: neo4j-rag-app
            image: myregistry.azurecr.io/neo4j-rag-app:latest
            env:
              - name: NEO4J_URI
                value: "neo4j+s://..."
              - name: NEO4J_USER
                value: "neo4j"